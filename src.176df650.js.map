{"version":3,"sources":["index.js"],"names":["mainSectionContainer","document","querySelector","settings","BASE_URL","API_KEY","IMG_URL","TRENDING_URL","GENRES_URL","fetchResults","response","fetch","url","result","json","error","console","log","getImgPath","imgPath","noImg","renderFilms","films","genres","getGenres","markup","results","map","poster_path","title","id","join","innerHTML","markGenres","genre","window","addEventListener"],"mappings":";;;AAiDC,aAjDD,IAAA,EAAA,EAAA,QAAA,uCAiDC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAhDD,MAAMA,EAAuBC,SAASC,cAAe,4BAC/CC,EAAW,CACfC,SAAW,gCACXC,QAAU,mCACVC,QAAS,mCACTC,aAAc,qBACdC,WAAa,qBAITC,EAAe,MAAA,IAChB,IACKC,MAAAA,QAAiBC,SAASR,EAASC,WAAWQ,aAAeT,EAASE,WAErEQ,aADcH,EAASI,OAE7B,MAAOC,GACRC,QAAQC,IAAI,QAASF,KAGnBG,EAAaC,GAAaA,KAA0BhB,EAASG,UAAUa,OAAhCC,EAAM,UAQnD,SAASC,EAAYC,EAAMC,GACzBC,EAAUD,GACZP,QAAQC,IAAIM,GACJE,MAAAA,EAASH,EAAMI,QAAQC,IAAI,EAAEC,YAAAA,EAAaC,MAAAA,EAAOC,GAAAA,gEACxBZ,EAAWU,uEAEZC,wCACAC,gCAG1BC,KAAK,IAGT/B,EAAqBgC,oCAAsCP,SAI7D,SAASD,EAAUD,GACXU,MAAAA,EAAaV,EAAOA,OAAOI,IAAIO,GAASA,EAAMJ,IACpDd,QAAQC,IAAIgB,GAzBdE,OAAOC,iBAAiB,OAAQ,UAG9Bf,QAFoBZ,EAAaN,EAASI,oBACrBE,EAAaN,EAASK","file":"src.176df650.js","sourceRoot":"../src","sourcesContent":["import noImg from '../src/images/noImageAvailable.jpg';\nconst mainSectionContainer = document.querySelector(`[data-id=main-container]`)\nconst settings = {\n  BASE_URL : 'https://api.themoviedb.org/3/',\n  API_KEY : '70fc5b973179caa818ae6622551a44d1',\n  IMG_URL: 'https://image.tmdb.org/t/p/w500/',\n  TRENDING_URL:`trending/movie/day`,\n  GENRES_URL: `/genre/movie/list`,\n}\n\n\nconst fetchResults = async(url) =>{\n  try{\n    const response = await fetch(`${settings.BASE_URL}${url}?api_key=${settings.API_KEY}`);\n    const result = await response.json();\n    return result\n  }  catch (error) {\n    console.log(\"Error\", error)\n  }\n}\nconst getImgPath = imgPath => (!imgPath ? `${noImg}` : `${settings.IMG_URL}${imgPath}`);\n\nwindow.addEventListener('load', async () => {\n  const films = await fetchResults(settings.TRENDING_URL)\n  const genres = await fetchResults(settings.GENRES_URL)\n  renderFilms(films,genres)\n});\n\nfunction renderFilms(films,genres){\n  getGenres(genres)\nconsole.log(genres)\n  const markup = films.results.map(({poster_path, title, id}) => `<li class='main__item'>\n    <img class='main__img' src=${getImgPath(poster_path)}>\n      <div class='block__text'>\n        <p class='text__name'>${title}</p>\n        <p class='text__info'>${id}</p>\n      </div>\n  </li>`\n    ).join(\"\");\n\n\n  mainSectionContainer.innerHTML = `<ul class='main__list'>${markup}</ul>`\n\n\n}\nfunction getGenres(genres){\n  const markGenres = genres.genres.map(genre => genre.id)\n  console.log(markGenres)\n\n}\n\n\n\n\n"]}